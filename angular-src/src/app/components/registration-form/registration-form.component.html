<!-- Formulaire raccourci Etape 1-->
<div class="row">
  <div class="main-register col-md-4 col-md-push-4 col-sm-6 col-sm-push-3 col-xs-12 ">
    <div class="row">
      <div class="text-center">
        <form [formGroup]="registerForm" class="form-vertical" (ngSubmit)="onRegisterSubmitPart(user)" novalidate>
          <div class="form-group" [ngClass]="{
              'has-error': nickname.invalid && nickname.dirty,
              'has-success': nickname.valid && nickname.dirty
              }">


            <label for="nickname" class="col-xs-8 col-xs-push-2 text-center control-label">Pseudonyme :</label>
            <div class="col-xs-8 col-xs-push-2">
              <input type="text" class="form-control" id="nickname" placeholder="Votre pseudo" formControlName="nickname" name="nickname" [formGroup]="registerForm" (blur)="onBlur()">
            </div>
          </div>

          <div class="form-group" [ngClass]="{
      'has-error': email.invalid && email.dirty,
      'has-success': email.valid && email.dirty
      }">
            <label for="email" class="col-xs-8 col-xs-push-2 text-center control-label">Email :</label>
            <div class="col-xs-8 col-xs-push-2">
              <input type="email" class="form-control" id="email" placeholder="Votre adresse Email" formControlName="email" name="email" [formGroup]="registerForm">
            </div>
            <div class="" *ngIf="email.errors && (email.dirty || email.touched)">
            </div>
          </div>

          <div class="form-group" [ngClass]="{
      'has-error': password.invalid && password.dirty,
      'has-success': password.valid && password.dirty
      }">
            <label for="password" class="col-xs-8 col-xs-push-2 text-center control-label">Mot de passe :</label>
            <div class="col-xs-8 col-xs-push-2">
              <input type="password" class="form-control" id="password" placeholder="" formControlName="password" name="password" [formGroup]="registerForm">

              <div class="" *ngIf="password.errors && (password.dirty || password.touched)">
                <p *ngIf="password.errors.required">Un mot de passe est requis</p>
                <p *ngIf="password.errors.minlength">Mot de passe trop court : minimum 4 caractères</p>
                <p *ngIf="password.errors.maxlength">Mot de passe trop long : maximum 16 caractères</p>
              </div>
            </div>
          </div>

          <div class="form-group" [ngClass]="{
      'has-error': confirm.invalid && confirm.dirty || confirm.dirty && (password.value !== confirm.value),
      'has-success': confirm.valid && confirm.dirty
      }">
            <label for="confirm" class="col-xs-8 col-xs-push-2 text-center control-label">Confirmez :</label>
            <div class="col-xs-8 col-xs-push-2 ">
              <input type="password" class="form-control" id="confirm" placeholder="" formControlName="confirm" name="confirm" [formGroup]="registerForm">
            </div>
            <div class="clearfix"></div>
            <div class="row">
              <div class="" *ngIf="(confirm.dirty || confirm.touched)">
                <p *ngIf="(password.value !== confirm.value)">Les mots de passe sont différents</p>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group">
            <label for="passed">Compléter son profil ultérieurement</label>
            <input type="checkbox" id="passedChk" formControlName="passedChk" name="passedChk" [formGroup]="registerForm">
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-default register-button" [disabled]="!registerForm.valid" *ngIf="!passedChk.value">Passez à l'étape 2 <span class="glyphicon glyphicon-arrow-right"></span></button>
            <button type="submit" class="btn btn-default register-button" [disabled]="!registerForm.valid" *ngIf="passedChk.value">Se connecter</button>
          </div>
        </form>
      </div>
    </div>



  </div>
</div>

<div class="row">
  <div class="col-xs-offset-3">
    <div class="row">
      <div class="col-xs-8 text-center isDispo">
        <p class="alert alert-success" *ngIf="isNicknameAvailable === true">Pseudonyme disponible <span class="glyphicon glyphicon-ok"></span> </p>
        <p class="alert alert-danger" *ngIf="isNicknameAvailable === false">Pseudonyme déjà pris <span class="glyphicon glyphicon-remove"></span></p>
      </div>
    </div>
  </div>
</div>

<!--Fin  Formulaire raccourci Etape 1-->
